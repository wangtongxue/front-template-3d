define(["exports","./when-7ef6387a","./Check-ed6a1804","./Ellipsoid-911f8bc2","./Transforms-d8f9dcbd","./Cartesian2-ff47d58f","./WebGLConstants-30fc6f5c"],(function(e,t,r,n,a,i,o){"use strict";var u=Object.freeze({NONE:0,TRIANGLES:1,LINES:2,POLYLINES:3});function c(e,r,n,a){this[0]=t.defaultValue(e,0),this[1]=t.defaultValue(n,0),this[2]=t.defaultValue(r,0),this[3]=t.defaultValue(a,0)}c.packedLength=4,c.pack=function(e,n,a){return r.Check.typeOf.object("value",e),r.Check.defined("array",n),a=t.defaultValue(a,0),n[a++]=e[0],n[a++]=e[1],n[a++]=e[2],n[a++]=e[3],n},c.unpack=function(e,n,a){return r.Check.defined("array",e),n=t.defaultValue(n,0),t.defined(a)||(a=new c),a[0]=e[n++],a[1]=e[n++],a[2]=e[n++],a[3]=e[n++],a},c.clone=function(e,r){if(t.defined(e))return t.defined(r)?(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r):new c(e[0],e[2],e[1],e[3])},c.fromArray=function(e,n,a){return r.Check.defined("array",e),n=t.defaultValue(n,0),t.defined(a)||(a=new c),a[0]=e[n],a[1]=e[n+1],a[2]=e[n+2],a[3]=e[n+3],a},c.fromColumnMajorArray=function(e,t){return r.Check.defined("values",e),c.clone(e,t)},c.fromRowMajorArray=function(e,n){return r.Check.defined("values",e),t.defined(n)?(n[0]=e[0],n[1]=e[2],n[2]=e[1],n[3]=e[3],n):new c(e[0],e[1],e[2],e[3])},c.fromScale=function(e,n){return r.Check.typeOf.object("scale",e),t.defined(n)?(n[0]=e.x,n[1]=0,n[2]=0,n[3]=e.y,n):new c(e.x,0,0,e.y)},c.fromUniformScale=function(e,n){return r.Check.typeOf.number("scale",e),t.defined(n)?(n[0]=e,n[1]=0,n[2]=0,n[3]=e,n):new c(e,0,0,e)},c.fromRotation=function(e,n){r.Check.typeOf.number("angle",e);var a=Math.cos(e),i=Math.sin(e);return t.defined(n)?(n[0]=a,n[1]=i,n[2]=-i,n[3]=a,n):new c(a,-i,i,a)},c.toArray=function(e,n){return r.Check.typeOf.object("matrix",e),t.defined(n)?(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n):[e[0],e[1],e[2],e[3]]},c.getElementIndex=function(e,t){return r.Check.typeOf.number.greaterThanOrEquals("row",t,0),r.Check.typeOf.number.lessThanOrEquals("row",t,1),r.Check.typeOf.number.greaterThanOrEquals("column",e,0),r.Check.typeOf.number.lessThanOrEquals("column",e,1),2*e+t},c.getColumn=function(e,t,n){r.Check.typeOf.object("matrix",e),r.Check.typeOf.number.greaterThanOrEquals("index",t,0),r.Check.typeOf.number.lessThanOrEquals("index",t,1),r.Check.typeOf.object("result",n);var a=2*t,i=e[a],o=e[a+1];return n.x=i,n.y=o,n},c.setColumn=function(e,t,n,a){r.Check.typeOf.object("matrix",e),r.Check.typeOf.number.greaterThanOrEquals("index",t,0),r.Check.typeOf.number.lessThanOrEquals("index",t,1),r.Check.typeOf.object("cartesian",n),r.Check.typeOf.object("result",a);var i=2*t;return(a=c.clone(e,a))[i]=n.x,a[i+1]=n.y,a},c.getRow=function(e,t,n){r.Check.typeOf.object("matrix",e),r.Check.typeOf.number.greaterThanOrEquals("index",t,0),r.Check.typeOf.number.lessThanOrEquals("index",t,1),r.Check.typeOf.object("result",n);var a=e[t],i=e[t+2];return n.x=a,n.y=i,n},c.setRow=function(e,t,n,a){return r.Check.typeOf.object("matrix",e),r.Check.typeOf.number.greaterThanOrEquals("index",t,0),r.Check.typeOf.number.lessThanOrEquals("index",t,1),r.Check.typeOf.object("cartesian",n),r.Check.typeOf.object("result",a),(a=c.clone(e,a))[t]=n.x,a[t+2]=n.y,a};var s=new i.Cartesian2;c.getScale=function(e,t){return r.Check.typeOf.object("matrix",e),r.Check.typeOf.object("result",t),t.x=i.Cartesian2.magnitude(i.Cartesian2.fromElements(e[0],e[1],s)),t.y=i.Cartesian2.magnitude(i.Cartesian2.fromElements(e[2],e[3],s)),t};var f=new i.Cartesian2;c.getMaximumScale=function(e){return c.getScale(e,f),i.Cartesian2.maximumComponent(f)},c.multiply=function(e,t,n){r.Check.typeOf.object("left",e),r.Check.typeOf.object("right",t),r.Check.typeOf.object("result",n);var a=e[0]*t[0]+e[2]*t[1],i=e[0]*t[2]+e[2]*t[3],o=e[1]*t[0]+e[3]*t[1],u=e[1]*t[2]+e[3]*t[3];return n[0]=a,n[1]=o,n[2]=i,n[3]=u,n},c.add=function(e,t,n){return r.Check.typeOf.object("left",e),r.Check.typeOf.object("right",t),r.Check.typeOf.object("result",n),n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3],n},c.subtract=function(e,t,n){return r.Check.typeOf.object("left",e),r.Check.typeOf.object("right",t),r.Check.typeOf.object("result",n),n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n[3]=e[3]-t[3],n},c.multiplyByVector=function(e,t,n){r.Check.typeOf.object("matrix",e),r.Check.typeOf.object("cartesian",t),r.Check.typeOf.object("result",n);var a=e[0]*t.x+e[2]*t.y,i=e[1]*t.x+e[3]*t.y;return n.x=a,n.y=i,n},c.multiplyByScalar=function(e,t,n){return r.Check.typeOf.object("matrix",e),r.Check.typeOf.number("scalar",t),r.Check.typeOf.object("result",n),n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n},c.multiplyByScale=function(e,t,n){return r.Check.typeOf.object("matrix",e),r.Check.typeOf.object("scale",t),r.Check.typeOf.object("result",n),n[0]=e[0]*t.x,n[1]=e[1]*t.x,n[2]=e[2]*t.y,n[3]=e[3]*t.y,n},c.negate=function(e,t){return r.Check.typeOf.object("matrix",e),r.Check.typeOf.object("result",t),t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},c.transpose=function(e,t){r.Check.typeOf.object("matrix",e),r.Check.typeOf.object("result",t);var n=e[0],a=e[2],i=e[1],o=e[3];return t[0]=n,t[1]=a,t[2]=i,t[3]=o,t},c.abs=function(e,t){return r.Check.typeOf.object("matrix",e),r.Check.typeOf.object("result",t),t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t},c.equals=function(e,r){return e===r||t.defined(e)&&t.defined(r)&&e[0]===r[0]&&e[1]===r[1]&&e[2]===r[2]&&e[3]===r[3]},c.equalsArray=function(e,t,r){return e[0]===t[r]&&e[1]===t[r+1]&&e[2]===t[r+2]&&e[3]===t[r+3]},c.equalsEpsilon=function(e,n,a){return r.Check.typeOf.number("epsilon",a),e===n||t.defined(e)&&t.defined(n)&&Math.abs(e[0]-n[0])<=a&&Math.abs(e[1]-n[1])<=a&&Math.abs(e[2]-n[2])<=a&&Math.abs(e[3]-n[3])<=a},c.IDENTITY=Object.freeze(new c(1,0,0,1)),c.ZERO=Object.freeze(new c(0,0,0,0)),c.COLUMN0ROW0=0,c.COLUMN0ROW1=1,c.COLUMN1ROW0=2,c.COLUMN1ROW1=3,Object.defineProperties(c.prototype,{length:{get:function(){return c.packedLength}}}),c.prototype.clone=function(e){return c.clone(this,e)},c.prototype.equals=function(e){return c.equals(this,e)},c.prototype.equalsEpsilon=function(e,t){return c.equalsEpsilon(this,e,t)},c.prototype.toString=function(){return"("+this[0]+", "+this[2]+")\n("+this[1]+", "+this[3]+")"};var l={POINTS:o.WebGLConstants.POINTS,LINES:o.WebGLConstants.LINES,LINE_LOOP:o.WebGLConstants.LINE_LOOP,LINE_STRIP:o.WebGLConstants.LINE_STRIP,TRIANGLES:o.WebGLConstants.TRIANGLES,TRIANGLE_STRIP:o.WebGLConstants.TRIANGLE_STRIP,TRIANGLE_FAN:o.WebGLConstants.TRIANGLE_FAN,validate:function(e){return e===l.POINTS||e===l.LINES||e===l.LINE_LOOP||e===l.LINE_STRIP||e===l.TRIANGLES||e===l.TRIANGLE_STRIP||e===l.TRIANGLE_FAN}},h=Object.freeze(l);function p(e){e=t.defaultValue(e,t.defaultValue.EMPTY_OBJECT),r.Check.typeOf.object("options.attributes",e.attributes),this.attributes=e.attributes,this.indices=e.indices,this.primitiveType=t.defaultValue(e.primitiveType,h.TRIANGLES),this.boundingSphere=e.boundingSphere,this.geometryType=t.defaultValue(e.geometryType,u.NONE),this.boundingSphereCV=e.boundingSphereCV,this.offsetAttribute=e.offsetAttribute}p.computeNumberOfVertices=function(e){r.Check.typeOf.object("geometry",e);var n=-1;for(var a in e.attributes)if(e.attributes.hasOwnProperty(a)&&t.defined(e.attributes[a])&&t.defined(e.attributes[a].values)){var i=e.attributes[a],o=i.values.length/i.componentsPerAttribute;if(n!==o&&-1!==n)throw new r.DeveloperError("All attribute lists must have the same number of attributes.");n=o}return n};var y=new n.Cartographic,b=new n.Cartesian3,C=new a.Matrix4,m=[new n.Cartographic,new n.Cartographic,new n.Cartographic],d=[new i.Cartesian2,new i.Cartesian2,new i.Cartesian2],O=[new i.Cartesian2,new i.Cartesian2,new i.Cartesian2],k=new n.Cartesian3,x=new a.Quaternion,E=new a.Matrix4,T=new c;p._textureCoordinateRotationPoints=function(e,t,r,o){var u,s=i.Rectangle.center(o,y),f=n.Cartographic.toCartesian(s,r,b),l=a.Transforms.eastNorthUpToFixedFrame(f,r,C),h=a.Matrix4.inverse(l,C),p=d,N=m;N[0].longitude=o.west,N[0].latitude=o.south,N[1].longitude=o.west,N[1].latitude=o.north,N[2].longitude=o.east,N[2].latitude=o.south;var I=k;for(u=0;u<3;u++)n.Cartographic.toCartesian(N[u],r,I),I=a.Matrix4.multiplyByPointAsVector(h,I,I),p[u].x=I.x,p[u].y=I.y;var w=a.Quaternion.fromAxisAngle(n.Cartesian3.UNIT_Z,-t,x),j=a.Matrix3.fromQuaternion(w,E),g=e.length,v=Number.POSITIVE_INFINITY,L=Number.POSITIVE_INFINITY,A=Number.NEGATIVE_INFINITY,S=Number.NEGATIVE_INFINITY;for(u=0;u<g;u++)I=a.Matrix4.multiplyByPointAsVector(h,e[u],I),I=a.Matrix3.multiplyByVector(j,I,I),v=Math.min(v,I.x),L=Math.min(L,I.y),A=Math.max(A,I.x),S=Math.max(S,I.y);var M=c.fromRotation(t,T),P=O;P[0].x=v,P[0].y=L,P[1].x=v,P[1].y=S,P[2].x=A,P[2].y=L;var R=p[0],V=p[2].x-R.x,G=p[1].y-R.y;for(u=0;u<3;u++){var q=P[u];c.multiplyByVector(M,q,q),q.x=(q.x-R.x)/V,q.y=(q.y-R.y)/G}var _=P[0],W=P[1],D=P[2],B=new Array(6);return i.Cartesian2.pack(_,B),i.Cartesian2.pack(W,B,2),i.Cartesian2.pack(D,B,4),B},e.Geometry=p,e.GeometryAttribute=function(e){if(e=t.defaultValue(e,t.defaultValue.EMPTY_OBJECT),!t.defined(e.componentDatatype))throw new r.DeveloperError("options.componentDatatype is required.");if(!t.defined(e.componentsPerAttribute))throw new r.DeveloperError("options.componentsPerAttribute is required.");if(e.componentsPerAttribute<1||e.componentsPerAttribute>4)throw new r.DeveloperError("options.componentsPerAttribute must be between 1 and 4.");if(!t.defined(e.values))throw new r.DeveloperError("options.values is required.");this.componentDatatype=e.componentDatatype,this.componentsPerAttribute=e.componentsPerAttribute,this.normalize=t.defaultValue(e.normalize,!1),this.values=e.values},e.GeometryType=u,e.Matrix2=c,e.PrimitiveType=h}));
//# sourceMappingURL=GeometryAttribute-45a4c7c8.js.map
