define(["exports","./when-7ef6387a","./Math-55f9392d","./Ellipsoid-911f8bc2","./EllipsoidTangentPlane-dfb29add","./PolygonPipeline-41e201d5","./PolylinePipeline-bc6ce324"],(function(e,i,t,n,r,o,a){"use strict";var l={};function h(e,i){return t.CesiumMath.equalsEpsilon(e.latitude,i.latitude,t.CesiumMath.EPSILON14)&&t.CesiumMath.equalsEpsilon(e.longitude,i.longitude,t.CesiumMath.EPSILON14)}var s=new n.Cartographic,g=new n.Cartographic;var p=new Array(2),d=new Array(2),P={positions:void 0,height:void 0,granularity:void 0,ellipsoid:void 0};l.computePositions=function(e,l,u,c,f,v){var y=function(e,t,r,o){var a=t.length;if(!(a<2)){var l=i.defined(o),p=i.defined(r),d=!0,P=new Array(a),u=new Array(a),c=new Array(a),f=t[0];P[0]=f;var v=e.cartesianToCartographic(f,s);p&&(v.height=r[0]),d=d&&v.height<=0,u[0]=v.height,c[0]=l?o[0]:0;for(var y=1,m=1;m<a;++m){var A=t[m],C=e.cartesianToCartographic(A,g);p&&(C.height=r[m]),d=d&&C.height<=0,h(v,C)?v.height<C.height&&(u[y-1]=C.height):(P[y]=A,u[y]=C.height,c[y]=l?o[m]:0,n.Cartographic.clone(C,v),++y)}if(!(d||y<2))return P.length=y,u.length=y,c.length=y,{positions:P,topHeights:u,bottomHeights:c}}}(e,l,u,c);if(i.defined(y)){if(l=y.positions,u=y.topHeights,c=y.bottomHeights,l.length>=3){var m=r.EllipsoidTangentPlane.fromPoints(l,e).projectPointsOntoPlane(l);o.PolygonPipeline.computeWindingOrder2D(m)===o.WindingOrder.CLOCKWISE&&(l.reverse(),u.reverse(),c.reverse())}var A,C,w=l.length,b=w-2,E=t.CesiumMath.chordLength(f,e.maximumRadius),O=P;if(O.minDistance=E,O.ellipsoid=e,v){var M,L=0;for(M=0;M<w-1;M++)L+=a.PolylinePipeline.numberOfPoints(l[M],l[M+1],E)+1;A=new Float64Array(3*L),C=new Float64Array(3*L);var F=p,H=d;O.positions=F,O.height=H;var T=0;for(M=0;M<w-1;M++){F[0]=l[M],F[1]=l[M+1],H[0]=u[M],H[1]=u[M+1];var W=a.PolylinePipeline.generateArc(O);A.set(W,T),H[0]=c[M],H[1]=c[M+1],C.set(a.PolylinePipeline.generateArc(O),T),T+=W.length}}else O.positions=l,O.height=u,A=new Float64Array(a.PolylinePipeline.generateArc(O)),O.height=c,C=new Float64Array(a.PolylinePipeline.generateArc(O));return{bottomPositions:C,topPositions:A,numCorners:b}}},e.WallGeometryLibrary=l}));
//# sourceMappingURL=WallGeometryLibrary-5dee096f.js.map
