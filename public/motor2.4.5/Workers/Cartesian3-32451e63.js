/**
 * Cesium - https://github.com/AnalyticalGraphicsInc/cesium
 *
 * Copyright 2011-2017 Cesium Contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * Columbus View (Pat. Pend.)
 *
 * Portions licensed separately.
 * See https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md for full licensing details.
 */
define(["exports","./when-4ca4e419","./Check-430b3551","./defineProperties-163ddb68"],(function(e,t,n,r){"use strict";function a(e,n,r){this.x=t.defaultValue(e,0),this.y=t.defaultValue(n,0),this.z=t.defaultValue(r,0)}a.fromSpherical=function(e,r){n.Check.typeOf.object("spherical",e),t.defined(r)||(r=new a);var c=e.clock,o=e.cone,i=t.defaultValue(e.magnitude,1),u=i*Math.sin(o);return r.x=u*Math.cos(c),r.y=u*Math.sin(c),r.z=i*Math.cos(o),r},a.fromElements=function(e,n,r,c){return t.defined(c)?(c.x=e,c.y=n,c.z=r,c):new a(e,n,r)},a.clone=function(e,n){if(t.defined(e))return t.defined(n)?(n.x=e.x,n.y=e.y,n.z=e.z,n):new a(e.x,e.y,e.z)},a.fromCartesian4=a.clone,a.packedLength=3,a.pack=function(e,r,a){return n.Check.typeOf.object("value",e),n.Check.defined("array",r),a=t.defaultValue(a,0),r[a++]=e.x,r[a++]=e.y,r[a]=e.z,r},a.unpack=function(e,r,c){return n.Check.defined("array",e),r=t.defaultValue(r,0),t.defined(c)||(c=new a),c.x=e[r++],c.y=e[r++],c.z=e[r],c},a.packArray=function(e,r){n.Check.defined("array",e);var c=e.length;t.defined(r)?r.length=3*c:r=new Array(3*c);for(var o=0;o<c;++o)a.pack(e[o],r,3*o);return r},a.unpackArray=function(e,r){if(n.Check.defined("array",e),n.Check.typeOf.number.greaterThanOrEquals("array.length",e.length,3),e.length%3!=0)throw new n.DeveloperError("array length must be a multiple of 3.");var c=e.length;t.defined(r)?r.length=c/3:r=new Array(c/3);for(var o=0;o<c;o+=3){var i=o/3;r[i]=a.unpack(e,o,r[i])}return r},a.fromArray=a.unpack,a.maximumComponent=function(e){return n.Check.typeOf.object("cartesian",e),Math.max(e.x,e.y,e.z)},a.minimumComponent=function(e){return n.Check.typeOf.object("cartesian",e),Math.min(e.x,e.y,e.z)},a.minimumByComponent=function(e,t,r){return n.Check.typeOf.object("first",e),n.Check.typeOf.object("second",t),n.Check.typeOf.object("result",r),r.x=Math.min(e.x,t.x),r.y=Math.min(e.y,t.y),r.z=Math.min(e.z,t.z),r},a.maximumByComponent=function(e,t,r){return n.Check.typeOf.object("first",e),n.Check.typeOf.object("second",t),n.Check.typeOf.object("result",r),r.x=Math.max(e.x,t.x),r.y=Math.max(e.y,t.y),r.z=Math.max(e.z,t.z),r},a.magnitudeSquared=function(e){return n.Check.typeOf.object("cartesian",e),e.x*e.x+e.y*e.y+e.z*e.z},a.magnitude=function(e){return Math.sqrt(a.magnitudeSquared(e))};var c=new a;a.distance=function(e,t){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),a.subtract(e,t,c),a.magnitude(c)},a.distanceSquared=function(e,t){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),a.subtract(e,t,c),a.magnitudeSquared(c)},a.normalize=function(e,t){n.Check.typeOf.object("cartesian",e),n.Check.typeOf.object("result",t);var r=a.magnitude(e);if(t.x=e.x/r,t.y=e.y/r,t.z=e.z/r,isNaN(t.x)||isNaN(t.y)||isNaN(t.z))throw new n.DeveloperError("normalized result is not a number");return t},a.dot=function(e,t){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),e.x*t.x+e.y*t.y+e.z*t.z},a.multiplyComponents=function(e,t,r){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),n.Check.typeOf.object("result",r),r.x=e.x*t.x,r.y=e.y*t.y,r.z=e.z*t.z,r},a.divideComponents=function(e,t,r){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),n.Check.typeOf.object("result",r),r.x=e.x/t.x,r.y=e.y/t.y,r.z=e.z/t.z,r},a.add=function(e,t,r){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),n.Check.typeOf.object("result",r),r.x=e.x+t.x,r.y=e.y+t.y,r.z=e.z+t.z,r},a.subtract=function(e,t,r){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),n.Check.typeOf.object("result",r),r.x=e.x-t.x,r.y=e.y-t.y,r.z=e.z-t.z,r},a.multiplyByScalar=function(e,t,r){return n.Check.typeOf.object("cartesian",e),n.Check.typeOf.number("scalar",t),n.Check.typeOf.object("result",r),r.x=e.x*t,r.y=e.y*t,r.z=e.z*t,r},a.divideByScalar=function(e,t,r){return n.Check.typeOf.object("cartesian",e),n.Check.typeOf.number("scalar",t),n.Check.typeOf.object("result",r),r.x=e.x/t,r.y=e.y/t,r.z=e.z/t,r},a.negate=function(e,t){return n.Check.typeOf.object("cartesian",e),n.Check.typeOf.object("result",t),t.x=-e.x,t.y=-e.y,t.z=-e.z,t},a.abs=function(e,t){return n.Check.typeOf.object("cartesian",e),n.Check.typeOf.object("result",t),t.x=Math.abs(e.x),t.y=Math.abs(e.y),t.z=Math.abs(e.z),t};var o=new a;a.lerp=function(e,t,r,c){return n.Check.typeOf.object("start",e),n.Check.typeOf.object("end",t),n.Check.typeOf.number("t",r),n.Check.typeOf.object("result",c),a.multiplyByScalar(t,r,o),c=a.multiplyByScalar(e,1-r,c),a.add(o,c,c)};var i=new a,u=new a;a.angleBetween=function(e,t){n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),a.normalize(e,i),a.normalize(t,u);var r=a.dot(i,u),c=a.magnitude(a.cross(i,u,i));return Math.atan2(c,r)};var f=new a;a.mostOrthogonalAxis=function(e,t){n.Check.typeOf.object("cartesian",e),n.Check.typeOf.object("result",t);var r=a.normalize(e,f);return a.abs(r,r),t=r.x<=r.y?r.x<=r.z?a.clone(a.UNIT_X,t):a.clone(a.UNIT_Z,t):r.y<=r.z?a.clone(a.UNIT_Y,t):a.clone(a.UNIT_Z,t)},a.projectVector=function(e,t,r){n.Check.defined("a",e),n.Check.defined("b",t),n.Check.defined("result",r);var c=a.dot(e,t)/a.dot(t,t);return a.multiplyByScalar(t,c,r)},a.equals=function(e,n){return e===n||t.defined(e)&&t.defined(n)&&e.x===n.x&&e.y===n.y&&e.z===n.z},a.equalsArray=function(e,t,n){return e.x===t[n]&&e.y===t[n+1]&&e.z===t[n+2]},a.equalsEpsilon=function(e,n,a,c){return e===n||t.defined(e)&&t.defined(n)&&r.CesiumMath.equalsEpsilon(e.x,n.x,a,c)&&r.CesiumMath.equalsEpsilon(e.y,n.y,a,c)&&r.CesiumMath.equalsEpsilon(e.z,n.z,a,c)},a.cross=function(e,t,r){n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),n.Check.typeOf.object("result",r);var a=e.x,c=e.y,o=e.z,i=t.x,u=t.y,f=t.z,h=c*f-o*u,y=o*i-a*f,l=a*u-c*i;return r.x=h,r.y=y,r.z=l,r},a.midpoint=function(e,t,r){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),n.Check.typeOf.object("result",r),r.x=.5*(e.x+t.x),r.y=.5*(e.y+t.y),r.z=.5*(e.z+t.z),r},a.fromDegrees=function(e,t,c,o,i){return n.Check.typeOf.number("longitude",e),n.Check.typeOf.number("latitude",t),e=r.CesiumMath.toRadians(e),t=r.CesiumMath.toRadians(t),a.fromRadians(e,t,c,o,i)};var h=new a,y=new a,l=new a(40680631590769,40680631590769,40408299984661.445);a.fromRadians=function(e,r,c,o,i){n.Check.typeOf.number("longitude",e),n.Check.typeOf.number("latitude",r),c=t.defaultValue(c,0);var u=t.defined(o)?o.radiiSquared:l,f=Math.cos(r);h.x=f*Math.cos(e),h.y=f*Math.sin(e),h.z=Math.sin(r),h=a.normalize(h,h),a.multiplyComponents(u,h,y);var s=Math.sqrt(a.dot(h,y));return y=a.divideByScalar(y,s,y),h=a.multiplyByScalar(h,c,h),t.defined(i)||(i=new a),a.add(y,h,i)},a.fromDegreesArray=function(e,r,c){if(n.Check.defined("coordinates",e),e.length<2||e.length%2!=0)throw new n.DeveloperError("the number of coordinates must be a multiple of 2 and at least 2");var o=e.length;t.defined(c)?c.length=o/2:c=new Array(o/2);for(var i=0;i<o;i+=2){var u=e[i],f=e[i+1],h=i/2;c[h]=a.fromDegrees(u,f,0,r,c[h])}return c},a.fromRadiansArray=function(e,r,c){if(n.Check.defined("coordinates",e),e.length<2||e.length%2!=0)throw new n.DeveloperError("the number of coordinates must be a multiple of 2 and at least 2");var o=e.length;t.defined(c)?c.length=o/2:c=new Array(o/2);for(var i=0;i<o;i+=2){var u=e[i],f=e[i+1],h=i/2;c[h]=a.fromRadians(u,f,0,r,c[h])}return c},a.fromDegreesArrayHeights=function(e,r,c){if(n.Check.defined("coordinates",e),e.length<3||e.length%3!=0)throw new n.DeveloperError("the number of coordinates must be a multiple of 3 and at least 3");var o=e.length;t.defined(c)?c.length=o/3:c=new Array(o/3);for(var i=0;i<o;i+=3){var u=e[i],f=e[i+1],h=e[i+2],y=i/3;c[y]=a.fromDegrees(u,f,h,r,c[y])}return c},a.fromRadiansArrayHeights=function(e,r,c){if(n.Check.defined("coordinates",e),e.length<3||e.length%3!=0)throw new n.DeveloperError("the number of coordinates must be a multiple of 3 and at least 3");var o=e.length;t.defined(c)?c.length=o/3:c=new Array(o/3);for(var i=0;i<o;i+=3){var u=e[i],f=e[i+1],h=e[i+2],y=i/3;c[y]=a.fromRadians(u,f,h,r,c[y])}return c},a.ZERO=t.freezeObject(new a(0,0,0)),a.UNIT_X=t.freezeObject(new a(1,0,0)),a.UNIT_Y=t.freezeObject(new a(0,1,0)),a.UNIT_Z=t.freezeObject(new a(0,0,1)),a.prototype.clone=function(e){return a.clone(this,e)},a.prototype.equals=function(e){return a.equals(this,e)},a.prototype.equalsEpsilon=function(e,t,n){return a.equalsEpsilon(this,e,t,n)},a.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},e.Cartesian3=a}));
