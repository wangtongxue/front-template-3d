define(["exports","./when-7ef6387a","./Check-ed6a1804","./Math-55f9392d","./Ellipsoid-911f8bc2","./Transforms-d8f9dcbd","./Cartesian2-ff47d58f","./GeometryAttribute-45a4c7c8"],(function(t,a,n,r,e,o,s,i){"use strict";var h=Math.cos,g=Math.sin,u=Math.sqrt,c={computePosition:function(t,n,r,e,o,s,i){var c=n.radiiSquared,C=t.nwCorner,l=t.boundingRectangle,d=C.latitude-t.granYCos*e+o*t.granXSin,M=h(d),S=g(d),w=c.z*S,f=C.longitude+e*t.granYSin+o*t.granXCos,m=M*h(f),X=M*g(f),Y=c.x*m,p=c.y*X,v=u(Y*m+p*X+w*S);if(s.x=Y/v,s.y=p/v,s.z=w/v,r){var O=t.stNwCorner;a.defined(O)?(d=O.latitude-t.stGranYCos*e+o*t.stGranXSin,f=O.longitude+e*t.stGranYSin+o*t.stGranXCos,i.x=(f-t.stWest)*t.lonScalar,i.y=(d-t.stSouth)*t.latScalar):(i.x=(f-l.west)*t.lonScalar,i.y=(d-l.south)*t.latScalar)}}},C=new i.Matrix2,l=new e.Cartesian3,d=new e.Cartographic,M=new e.Cartesian3,S=new o.GeographicProjection;function w(t,a,n,r,o,s,h){var g=Math.cos(a),u=r*g,c=n*g,d=Math.sin(a),w=r*d,f=n*d;l=S.project(t,l),l=e.Cartesian3.subtract(l,M,l);var m=i.Matrix2.fromRotation(a,C);l=i.Matrix2.multiplyByVector(m,l,l),l=e.Cartesian3.add(l,M,l),s-=1,h-=1;var X=(t=S.unproject(l,t)).latitude,Y=X+s*f,p=X-u*h,v=X-u*h+s*f,O=Math.max(X,Y,p,v),R=Math.min(X,Y,p,v),_=t.longitude,G=_+s*c,x=_+h*w,P=_+h*w+s*c;return{north:O,south:R,east:Math.max(_,G,x,P),west:Math.min(_,G,x,P),granYCos:u,granYSin:w,granXCos:c,granXSin:f,nwCorner:t}}c.computeOptions=function(t,a,e,o,i,h,g){var u,c,C,l,f,m=t.east,X=t.west,Y=t.north,p=t.south,v=!1,O=!1;Y===r.CesiumMath.PI_OVER_TWO&&(v=!0),p===-r.CesiumMath.PI_OVER_TWO&&(O=!0);var R=Y-p;C=(f=X>m?r.CesiumMath.TWO_PI-X+m:m-X)/((u=Math.ceil(f/a)+1)-1),l=R/((c=Math.ceil(R/a)+1)-1);var _=s.Rectangle.northwest(t,h),G=s.Rectangle.center(t,d);0===e&&0===o||(G.longitude<_.longitude&&(G.longitude+=r.CesiumMath.TWO_PI),M=S.project(G,M));var x=l,P=C,W=s.Rectangle.clone(t,i),y={granYCos:x,granYSin:0,granXCos:P,granXSin:0,nwCorner:_,boundingRectangle:W,width:u,height:c,northCap:v,southCap:O};if(0!==e){var I=w(_,e,C,l,0,u,c);if(Y=I.north,p=I.south,m=I.east,X=I.west,Y<-r.CesiumMath.PI_OVER_TWO||Y>r.CesiumMath.PI_OVER_TWO||p<-r.CesiumMath.PI_OVER_TWO||p>r.CesiumMath.PI_OVER_TWO)throw new n.DeveloperError("Rotated rectangle is invalid.  It crosses over either the north or south pole.");y.granYCos=I.granYCos,y.granYSin=I.granYSin,y.granXCos=I.granXCos,y.granXSin=I.granXSin,W.north=Y,W.south=p,W.east=m,W.west=X}if(0!==o){e-=o;var T=s.Rectangle.northwest(W,g),E=w(T,e,C,l,0,u,c);y.stGranYCos=E.granYCos,y.stGranXCos=E.granXCos,y.stGranYSin=E.granYSin,y.stGranXSin=E.granXSin,y.stNwCorner=T,y.stWest=E.west,y.stSouth=E.south}return y},t.RectangleGeometryLibrary=c}));
//# sourceMappingURL=RectangleGeometryLibrary-afbeb163.js.map
