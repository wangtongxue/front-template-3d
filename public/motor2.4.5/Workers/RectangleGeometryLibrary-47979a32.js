define(["exports","./when-7ef6387a","./Check-ed6a1804","./Math-85667bf9","./Ellipsoid-1cbb4ac9","./Transforms-c20c38d0","./Cartesian2-73569d25","./GeometryAttribute-6b3c7112"],(function(t,a,n,r,e,o,s,i){"use strict";var h=Math.cos,g=Math.sin,u=Math.sqrt,c={computePosition:function(t,n,r,e,o,s,i){var c=n.radiiSquared,C=t.nwCorner,l=t.boundingRectangle,d=C.latitude-t.granYCos*e+o*t.granXSin,M=h(d),S=g(d),w=c.z*S,m=C.longitude+e*t.granYSin+o*t.granXCos,X=M*h(m),Y=M*g(m),p=c.x*X,v=c.y*Y,O=u(p*X+v*Y+w*S);if(s.x=p/O,s.y=v/O,s.z=w/O,r){var R=t.stNwCorner;a.defined(R)?(d=R.latitude-t.stGranYCos*e+o*t.stGranXSin,m=R.longitude+e*t.stGranYSin+o*t.stGranXCos,i.x=(m-t.stWest)*t.lonScalar,i.y=(d-t.stSouth)*t.latScalar):(i.x=(m-l.west)*t.lonScalar,i.y=(d-l.south)*t.latScalar)}}},C=new i.Matrix2,l=new e.Cartesian3,d=new e.Cartographic,M=new e.Cartesian3,S=new o.GeographicProjection;function w(t,a,n,r,o,s,h){var g=Math.cos(a),u=r*g,c=n*g,d=Math.sin(a),w=r*d,m=n*d;l=S.project(t,l),l=e.Cartesian3.subtract(l,M,l);var X=i.Matrix2.fromRotation(a,C);l=i.Matrix2.multiplyByVector(X,l,l),l=e.Cartesian3.add(l,M,l),s-=1,h-=1;var Y=(t=S.unproject(l,t)).latitude,p=Y+s*m,v=Y-u*h,O=Y-u*h+s*m,R=Math.max(Y,p,v,O),f=Math.min(Y,p,v,O),_=t.longitude,G=_+s*c,x=_+h*w,P=_+h*w+s*c;return{north:R,south:f,east:Math.max(_,G,x,P),west:Math.min(_,G,x,P),granYCos:u,granYSin:w,granXCos:c,granXSin:m,nwCorner:t}}c.computeOptions=function(t,a,e,o,i,h,g){var u,c,C,l,m,X=t.east,Y=t.west,p=t.north,v=t.south,O=!1,R=!1;p===r.CesiumMath.PI_OVER_TWO&&(O=!0),v===-r.CesiumMath.PI_OVER_TWO&&(R=!0);var f=p-v;C=(m=Y>X?r.CesiumMath.TWO_PI-Y+X:X-Y)/((u=Math.ceil(m/a)+1)-1),l=f/((c=Math.ceil(f/a)+1)-1);var _=s.Rectangle.northwest(t,h),G=s.Rectangle.center(t,d);0===e&&0===o||(G.longitude<_.longitude&&(G.longitude+=r.CesiumMath.TWO_PI),M=S.project(G,M));var x=l,P=C,W=s.Rectangle.clone(t,i),b={granYCos:x,granYSin:0,granXCos:P,granXSin:0,nwCorner:_,boundingRectangle:W,width:u,height:c,northCap:O,southCap:R};if(0!==e){var y=w(_,e,C,l,0,u,c);if(p=y.north,v=y.south,X=y.east,Y=y.west,p<-r.CesiumMath.PI_OVER_TWO||p>r.CesiumMath.PI_OVER_TWO||v<-r.CesiumMath.PI_OVER_TWO||v>r.CesiumMath.PI_OVER_TWO)throw new n.DeveloperError("Rotated rectangle is invalid.  It crosses over either the north or south pole.");b.granYCos=y.granYCos,b.granYSin=y.granYSin,b.granXCos=y.granXCos,b.granXSin=y.granXSin,W.north=p,W.south=v,W.east=X,W.west=Y}if(0!==o){e-=o;var I=s.Rectangle.northwest(W,g),T=w(I,e,C,l,0,u,c);b.stGranYCos=T.granYCos,b.stGranXCos=T.granXCos,b.stGranYSin=T.granYSin,b.stGranXSin=T.granXSin,b.stNwCorner=I,b.stWest=T.west,b.stSouth=T.south}return b},t.RectangleGeometryLibrary=c}));
//# sourceMappingURL=RectangleGeometryLibrary-47979a32.js.map
